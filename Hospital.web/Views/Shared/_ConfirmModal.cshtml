@* Reusable Confirmation Modal Partial *@
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 shadow-lg">
            <div class="modal-header bg-danger text-white border-0 rounded-top-4">
                <h5 class="modal-title" id="confirmModalLabel"><i class="fas fa-exclamation-triangle me-2"></i>Confirm Action</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="confirmModalMessage" class="mb-0">Are you sure you want to proceed with this action?</p>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmModalYesBtn">Yes, Proceed</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Usage: showConfirmModal('Your message', function() { ... });
        window.showConfirmModal = function (message, onConfirm) {
            document.getElementById('confirmModalMessage').textContent = message || 'Are you sure you want to proceed with this action?';
            var yesBtn = document.getElementById('confirmModalYesBtn');
            var handler = function () {
                if (typeof onConfirm === 'function') onConfirm();
                var modal = bootstrap.Modal.getInstance(document.getElementById('confirmModal'));
                modal.hide();
                yesBtn.removeEventListener('click', handler);
            };
            yesBtn.addEventListener('click', handler);
            var modal = new bootstrap.Modal(document.getElementById('confirmModal'));
            modal.show();
        };
    </script>
} 